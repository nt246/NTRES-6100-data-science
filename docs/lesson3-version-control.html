<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lesson 3: Version control and the Git/GitHub workflow</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Collaborative and Reproducible Data Science in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Lecture notes</li>
    <li>
      <a href="lesson1-rstudio.html">Lesson 1: R Studio</a>
    </li>
    <li>
      <a href="lesson2-rmarkdown-github.html">Lesson 2: Quarto and GitHub</a>
    </li>
    <li>
      <a href="lesson3-version-control.html">Lesson 3: Version control and the Git/GitHub workflow</a>
    </li>
    <li>
      <a href="lesson4-collaboration.html">Lesson 4: Collaborating with GitHub - Part 1</a>
    </li>
    <li>
      <a href="lesson5-collaboration-part2.html">Lesson 5: Collaborating with GitHub - Part 2</a>
    </li>
    <li>
      <a href="lesson6-ggplot-part1.html">Lesson 6: Plotting with ggplot - Part 1</a>
    </li>
    <li>
      <a href="lesson7-data-wrangling1.html">Lesson 7: Data wrangling - Part 1</a>
    </li>
    <li>
      <a href="lesson8-data-wrangling2.html">Lesson 8: Data wrangling - Part 2</a>
    </li>
    <li>
      <a href="lesson9-ggplot-part2.html">Lesson 9: Plotting with ggplot - Part 2</a>
    </li>
    <li>
      <a href="lesson10-tidy-data.html">Lesson 10: Tidy Data</a>
    </li>
    <li>
      <a href="lesson11-data-import-and-types.html">Lesson 11: Data import, export, and conversion between data types</a>
    </li>
    <li>
      <a href="lesson12-relational-data.html">Lesson 12: Relational data</a>
    </li>
    <li>
      <a href="lesson13-for-loops.html">Lesson 13: Iteration - part 1</a>
    </li>
    <li>
      <a href="lesson14-for-loops-part2.html">Lesson 14: Iteration - part 2</a>
    </li>
    <li>
      <a href="lesson15-debugging-getting-help.html">Lesson 15: Good coding practices, debugging strategies, and getting help</a>
    </li>
    <li>
      <a href="lesson16-functions.html">Lesson 16: Functions</a>
    </li>
    <li>
      <a href="lesson17-factors.html">Lesson 17: Factors</a>
    </li>
    <li>
      <a href="lesson18-wrapup.html">Lesson 18: Wrapping up and learning more</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Lab handouts</li>
    <li>
      <a href="lab1-rmarkdown.html">Lab 1: Quarto</a>
    </li>
    <li>
      <a href="lab2-rmarkdown-github.html">Lab 2: Quarto and GitHub</a>
    </li>
    <li>
      <a href="lab3-ggplot-website.html">Lab 3: Displaying data visualization on a website</a>
    </li>
    <li>
      <a href="lab4-ggplot-dplyr.html">Lab 4: Data exploration with the gapminder dataset</a>
    </li>
    <li>
      <a href="lab5-titanic.html">Lab 5: Data exploration with the Titanic dataset</a>
    </li>
    <li>
      <a href="lab6-tidy-data.html">Lab 6: Data cleaning and tidy data</a>
    </li>
    <li>
      <a href="lab7-relational-data.html">Lab 7: Relational data and tidy data</a>
    </li>
    <li>
      <a href="lab8-iteration.html">Lab 8: Iteration and conditional execution</a>
    </li>
    <li>
      <a href="lab9-function.html">Lab 9: Functions and iteration</a>
    </li>
  </ul>
</li>
<li>
  <a href="assignments.html">Assignments</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="installation.html">Installation guide</a>
    </li>
    <li>
      <a href="trouble-shooting.html">Trouble-shooting guide</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Lesson 3: Version control and the
Git/GitHub workflow</h1>

</div>


<p><br></p>
<div id="readings" class="section level2">
<h2>Readings</h2>
<p><br></p>
<div id="required" class="section level4">
<h4>Required:</h4>
<ul>
<li><a href="https://peerj.com/preprints/3159/">Excuse me, do you have a
moment to talk about version control?</a> by Jenny Bryan</li>
</ul>
<p><br></p>
</div>
<div id="other-resources" class="section level4">
<h4>Other resources:</h4>
<ul>
<li><p><a href="https://docs.github.com/en/get-started">GitHub’s Get
Started Documentation</a> has a number of tutorials. <a
href="https://docs.github.com/en/get-started/start-your-journey/hello-world">“Hello
World”</a> is a good place to start</p></li>
<li><p><a href="https://happygitwithr.com/">Happy Git with R</a> by
Jenny Bryan</p></li>
<li><p><a
href="https://openscapes.github.io/series/github-issues.html">GitHub for
Project Management</a> by Openscapes</p></li>
</ul>
<p><br> <br></p>
</div>
</div>
<div id="announcements" class="section level2">
<h2>Announcements</h2>
<ul>
<li>The classroom is a little wide so it might be hard to see the screen
from the edges of the room. Please talk to us or write in the
<code>feedback</code> channel if you have suggestions for how we can
make things work better in the room.</li>
<li><strong>Homework 1</strong> is due this Thursday at 10pm (submit
through GitHub! – we’ll demo later).</li>
<li>Auditors are welcome to submit homework assignments for useful
practice and feedback.</li>
<li>Jaime will host office hours Wednesday 10-11am in 311 Fernow
Hall.</li>
<li>Nina will host office hours 11.30-12am (right after class) this
Thursday on the benches outside the classroom.</li>
</ul>
<p><br><br />
<br></p>
</div>
<div id="learning-objectives" class="section level2">
<h2>Learning objectives</h2>
<p>By the end of this class you will be able to:</p>
<ul>
<li>Locate your personal GitHub repo through which you’ll be submitting
homework and exercises for this course</li>
<li>Create and edit plain text files on GitHub</li>
<li>Navigate the commit history of a repository and a file on
GitHub</li>
<li>Clone a repo locally using RStudio</li>
<li>Sync local changes to a file back to remote (and GitHub) with pull,
stage, commit, push</li>
<li>Describe the advantages of a project-oriented workflow in RStudio
and set up a version-controlled project directory on your computer</li>
</ul>
<p><br></p>
<p><strong>Acknowledgements</strong>: Today’s lecture is adapted from
the excellent <a
href="https://rstudio-conf-2020.github.io/r-for-excel/">R for Excel
users</a> course by Julia Stewart Lowndes and Allison Horst and the <a
href="https://stat545.stat.ubc.ca/notes/notes-a02/">STAT457 course at
UBC</a>.</p>
<p><br></p>
</div>
<div id="introduction-to-git-and-github" class="section level2">
<h2>Introduction to Git and GitHub</h2>
<div id="why-should-r-users-use-github" class="section level3">
<h3>Why should R users use GitHub?</h3>
<p>Modern R users use GitHub because it helps make coding collaborative
and social while also providing huge benefits to organization,
archiving, and being able to find your files easily when you need
them.</p>
<p>One of the most compelling reasons for me is that it ends (or nearly
ends) the horror of keeping track of versions.</p>
<p>Basically, we get away from this:</p>
<p><br></p>
<p><img src="assets/MessySaves.png" width="80%" /> <br></p>
<p>This is a nightmare not only because I have NO idea which is truly
the version we used in that analysis we need to update, but because it
is going to take a lot of detective work to see what actually changed
between each file. Also, if we’re collaborating with other people on
these documents and, for example, sharing them over email, it can become
very tricky to ensure everyone always has the most current verion. Even
if updates are always immediately shared, everyone’s bookkeeping can
take a huge amount of time. Is everyone downloading an attachment,
dragging it to wherever they organize this on their own computers, and
then renaming everything? Hours and hours of all of our lives.</p>
<p>Fortunately there is Git and GitHub!</p>
<p>On GitHub, in this example you will likely only see a single file,
which is the most recent version. GitHub’s job is to track who made any
changes and when (so no need to save a copy with your name or date at
the end), and it also requires that you write something human-readable
that will be a breadcrumb for you in the future. It is also designed to
be easy to compare versions, and you can easily revert to previous
versions.</p>
<p>GitHub also supercharges you as a collaborator. First and foremost
with Future You, but also sets you up to collaborate with Future Us!</p>
<p>GitHub, especially in combination with RStudio, is also game-changing
for publishing and distributing. You can — and we will — publish and
share files openly on the internet.</p>
<p><br></p>
</div>
<div id="what-is-github-and-git" class="section level3">
<h3>What is GitHub? And Git?</h3>
<p>OK so what is GitHub? And Git?</p>
<ul>
<li><p><strong>Git</strong> is a program that you install on your
computer: it is version control software that tracks changes to your
files over time.</p></li>
<li><p><strong>GitHub</strong> is an website that is essentially a
social media platform for your Git-versioned files. GitHub stores all
your versioned files as an archive, but also as allows you to interact
with other people’s files and has management tools for the social side
of software projects. It has many nice features to be able visualize
differences between <a
href="https://docs.github.com/en/github-ae@latest/repositories/working-with-files/using-files/working-with-non-code-files#rendering-and-diffing-images">images</a>,
<a
href="https://docs.github.com/en/repositories/working-with-files/using-files/working-with-non-code-files#mapping-geojson-files-on-github">rendering</a>
&amp; <a
href="https://github.com/blog/1772-diffable-more-customizable-maps">diffing</a>
map data files, <a
href="https://docs.github.com/en/repositories/working-with-files/using-files/working-with-non-code-files#rendering-csv-and-tsv-data">render
text data files</a>, and <a
href="https://docs.github.com/en/repositories/working-with-files/using-files/working-with-non-code-files#rendering-differences-in-prose-documents">track
changes in text</a>.</p></li>
</ul>
<p>GitHub was developed for software development, so much of the
functionality and terminology that is exciting for professional
programmers (e.g., branches and pull requests) isn’t necessarily the
right place for us as new R users to get started. We’ll get there soon,
but for now, we will be learning and practicing GitHub’s features and
terminology on a “need to know basis” as we start managing our projects
with GitHub.</p>
<p><br></p>
</div>
<div id="account-types" class="section level3">
<h3>Account types</h3>
<p>GitHub allows for cloud storage, like Google Drive and Dropbox do.
But there’s a bit more structure than just storing files under your
account:</p>
<p><br></p>
<ul>
<li><strong>Repositories (aka “repos”)</strong>: All files must be
organized into repositories. Think of these as self-contained projects.
These can either be public or private.</li>
</ul>
<p><br></p>
<ul>
<li><p><strong>User Accounts vs. Organization Accounts (aka
“Org”)</strong>: All repositories belong to an account:</p>
<ul>
<li>A user account is the account you have made for yourself, and
typically holds repositories related to your own work.</li>
<li>An Organization account can be owned by multiple people, and
typically holds repositories relevant to a group (like
<code>therkildsen-class</code>).</li>
</ul></li>
</ul>
<p>Examples:</p>
<ul>
<li>The <a href="https://github.com/tidyverse/ggplot2">ggplot2 repo</a>,
within its corresponding <code>tidyverse</code> organization</li>
<li>Our <a href="https://github.com/nt246/NTRES-6100-data-science">class
website</a> within Nina’s user account <code>nt246</code></li>
</ul>
<p><br></p>
</div>
<div id="say-hello-to-your-course-repo-on-github"
class="section level3">
<h3>Say hello to your course repo on GitHub</h3>
<p>In this course, you will not be working in repos in your own personal
account because then we will not have edit access to your files.
Instead, you will work within your personal course repo that we have
created with a GitHub Classroom organization for the class. To access
your personal course repo through which you will be submitting your
assignments and communicating with us, click <a
href="https://classroom.github.com/a/StaRJQLV">here</a>. Select your
name from the list (or just click continue if you don’t see your name
there).</p>
<p>Once you land on your repo page, notice that it is hosted within our
course organizational account <code>therkildsen-class</code>, not your
personal account (see the path in the top left corner). To make this
repo also show up on your personal account page, click the “Star” button
on the top right of the page.</p>
<p><img src="assets/star_repo_24FA.png" width="80%" /></p>
<p><br></p>
<p>Now if you click on the profile information in the very top right
corner, and select the “Your stars” option, you’ll be taken to a list of
all the repos you have starred and your course repo should show up here
(it should be named something like
<code>therkildsen-class/ntres-6100-assignments-YOUR_USER_NAME</code>).
Click on the repo name to return to your course repo.</p>
<p><img src="assets/finding_starred_repos.png" width="80%" /></p>
<p><br> <br> <br></p>
</div>
</div>
<div id="navigating-github" class="section level2">
<h2>Navigating GitHub</h2>
<div id="make-a-new-file-on-your-course-repo" class="section level3">
<h3>Make a new file on your course repo</h3>
<p><br></p>
<div id="together" class="section level4">
<h4>Together:</h4>
<ul>
<li>Make sure you’re in your class repo
(<code>therkildsen-class/ntres-6100-assignments-YOUR_USER_NAME</code>)</li>
<li>Click on the “Add File” button on your repository’s home page, and
select the “Create new file” option</li>
<li>Call the file <code>navigating_github.md</code></li>
<li>Leave it blank, and commit (“save”) the file by clicking on green
“commit new file” button at the bottom of the page.</li>
<li>Locate your new file in your GitHub repo file directory (the
“landing page” for your repo) and click on it to open</li>
<li>Click on the pen button in the top right corner to allow editing,
and add the URL for our <a
href="https://nt246.github.io/NTRES-6100-data-science/index.html">course
homepage</a> to your <code>navigating_github.md</code> file together
with some commentary</li>
<li>Commit the changes</li>
</ul>
<p><br></p>
</div>
<div id="your-turn" class="section level4">
<h4>Your turn:</h4>
<ul>
<li>Now add the URL’s (with commentary) to
<ul>
<li>Your personal class repo</li>
<li>Your user account page</li>
</ul></li>
<li>Commit the changes</li>
</ul>
<p><br></p>
<ul>
<li>Now create a new subdirectory for course notes (remember to not use
spaces in names, so you can call it something like course-notes)</li>
</ul>
<p>If you can’t figure out how to add a subdirectory, you’re not the
first to wonder. Let’s <a
href="https://github.com/KirstieJane/STEMMRoleModels/wiki/Creating-new-folders-in-GitHub-repository-via-the-browser">ask
the internet</a></p>
<p><br></p>
</div>
</div>
<div id="exploring-the-commit-history-of-a-repo" class="section level3">
<h3>Exploring the commit history of a repo</h3>
<p>We’ll go through this together.</p>
<p>GitHub uses the program Git to keep track of the project’s
history.</p>
<p>Users make “commits” to form a commit history</p>
<ul>
<li>Git only tracks the changes associated with a commit, so it doesn’t
need to take a snapshot of all your files each time.</li>
<li>The actual changes are called a diff.</li>
</ul>
<p>Demonstration:</p>
<ul>
<li>View commit history of the <a
href="https://github.com/nt246/NTRES-6100-data-science">course website
repo</a> by clicking on the “commits” button on the repo home page.</li>
<li>View a recent diff by clicking on the button with the SHA or hash
code (something like <code>6c0a5f1</code>).</li>
<li>This is also useful for collaborators to see exactly what you
changed.</li>
<li>View the repository from a while back with the &lt;&gt; button.</li>
<li>View the history of a file by clicking on the file, then clicking
“History”.</li>
</ul>
<p><br></p>
</div>
<div id="why-version-control" class="section level3">
<h3>Why version control?</h3>
<ul>
<li>No need to save updated versions as a separate file</li>
<li>Leave a breadcrumb trail for troubleshooting</li>
<li>Don’t fret removing stuff</li>
<li>“Undo” and navigate a previous state</li>
<li>Helps you define your work</li>
</ul>
<p><br> <br></p>
</div>
</div>
<div id="interfacing-with-github-from-our-local-computers-using-rstudio"
class="section level2">
<h2>Interfacing with GitHub from our local computers using RStudio</h2>
<p>We should all have set up Git on our local computers by now and have
it connected to RStudio. If you don’t, follow the instructions <a
href="https://nt246.github.io/NTRES-6100-data-science/lesson2-rmarkdown-github.html#GitGitHub:_Brief_intro__configuration">here</a>,
and let us know if you run into problems.</p>
<p><br></p>
</div>
<div id="clone-your-repository-using-rstudio" class="section level2">
<h2>Clone your repository using RStudio</h2>
<p>We should all have identified our course repo on GitHub, i.e. in the
cloud. Now, we will use RStudio to establish it locally on our
computers: that is called “cloning”. Unlike downloading, cloning keeps
all the version control and user information bundled with the files.
Cloning is an important task when working with GitHub, so we’ll do it
over and over again to establish the habit.</p>
<p><br></p>
<div id="copy-the-repo-address" class="section level3">
<h3>Copy the repo address</h3>
<p>First, click the green “Code” button, then copy the web address of
the repository you want to clone. We will use HTTPS.</p>
<blockquote>
<p><strong>Aside</strong>: HTTPS is default, and <a
href="https://happygitwithr.com/https-pat.html#https-vs-ssh">is method
recommended by GitHub</a>. You could alternatively set up with SSH, but
we will not get into that here.</p>
</blockquote>
<p><br></p>
<p><img src="assets/github-clone-sept20.png" width="100%" /></p>
<p><br> <br></p>
</div>
<div id="rstudio-new-project" class="section level3">
<h3>RStudio: New Project</h3>
<p>Now go to RStudio, and click on New Project. There are a few
different ways; you could also go to File &gt; New Project…, or click
the little green + with the R box in the top left.</p>
<p><img src="assets/new_project1.png" width="80%" /></p>
<p><br></p>
</div>
<div id="select-version-control" class="section level3">
<h3>Select Version Control</h3>
<p><img src="assets/new_project2.png" width="80%" /></p>
<p><br></p>
</div>
<div id="select-git" class="section level3">
<h3>Select Git</h3>
<p>Since we are using Git.</p>
<p><img src="assets/new_project3.png" width="80%" /></p>
<p><br></p>
<p>We got to this step during last class when we were confirming that
our set-up has Git configured and connected to RStudio and GitHub
correctly. Now, we will go ahead and actually clone our GitHub repo to
our local computer.</p>
<p><br> <br></p>
</div>
<div id="paste-the-repo-address" class="section level3">
<h3>Paste the repo address</h3>
<p>Paste the repo address (which is still in your clipboard) into in the
“Repository URL” field. The “Project directory name” should auto-fill;
if it does not press <em>tab</em>, or type it in. It is best practice to
keep the “Project directory name” THE SAME as the repository name.</p>
<p>When cloned, this repository is going to become a folder on your
computer.</p>
<p>At this point you can save this repo anywhere. Press “Browse…” to
navigate to a folder and you have the option of creating a new
folder.</p>
<p>There are different schools of thought but we think it is useful to
create a high-level folder where you will keep your GitHub repos to keep
them organized. We call ours <code>github</code> (all lowercase) and
keep it in our root folder (<code>~/github</code>), and so that is what
we will demonstrate here. We encourage you to do the same. Why? First of
all, you’ll always know where all your code is located, and it will
mirror the structure of what you see on GitHub. Second, it makes working
across users and machines easier if all your file paths start with
<code>~/github/repo-name</code>.</p>
<p><strong>IMPORTANT</strong>: Make sure to not place it in folder
tracked by a cloud storage service (e.g. DropBox, Google Drive or Box)
because problems can arise when trying to sync folders with multiple
systems.</p>
<p>Finally, click Create Project.</p>
<p><br></p>
<p><img src="assets/new_project4.png" width="80%" /></p>
<p><br> <br></p>
</div>
<div id="admire-and-inspect-your-local-repo" class="section level3">
<h3>Admire and inspect your local repo</h3>
<p>If everything went well, the repository will show up in RStudio!</p>
<p><br></p>
<p><img src="assets/new_project5.png" width="100%" /></p>
<p><br></p>
<p>The repository is also saved to the location you specified, and you
can navigate to it as you normally would in Finder or Windows
Explorer:</p>
<p><br></p>
<p><img src="assets/new_project6.png" width="80%" /></p>
<p><br></p>
<p><strong>Hooray!</strong></p>
<p><br></p>
<p>Let’s notice a few things:</p>
<p>First, our working directory is set to
<code>~/github/ntres-6100-assignments-USERNAME</code>, and
<code>ntres-6100-assignments-USERNAME</code> is also named in the top
right hand corner.</p>
<p>Second, we have a Git tab in the top right pane! Let’s click on
it.</p>
<p><br></p>
<p><img src="assets/new_project5_annotated.png" width="80%" /></p>
<p><br></p>
<p>Our Git tab has 2 items:</p>
<ul>
<li>.gitignore file</li>
<li>.Rproj file</li>
</ul>
<p>These have been added to our repo by RStudio — we can also see them
in the File pane in the bottom right of RStudio. These are helper files
that RStudio has added to streamline our workflow with GitHub and R. We
will talk about these a bit more soon. One thing to note about these
files is that they begin with a period (<code>.</code>) which means they
are hidden files: they show up in the Files pane of RStudio but won’t
show up in your Finder or Windows Explorer.</p>
<p>Going back to the Git tab, both these files have little yellow icons
with question marks <code>?</code>. This is GitHub’s way of saying: “I
am responsible for tracking everything that happens in this repo, but
I’m not sure what is going on with these files yet. Do you want me to
track them too?”</p>
<p>We will handle this in a moment; first let’s look at the README.md
file.</p>
<p><br></p>
</div>
<div id="edit-your-readme-file" class="section level3">
<h3>Edit your README file</h3>
<p>Let’s also open up the <code>README.md</code>. This is a Markdown
file, which is the same language we just learned with Quarto / R
Markdown. It’s like a Quarto file without the abilities to run code (but
we can see much of the formatting in the visual editor.</p>
<p>We will edit the file and illustrate how GitHub tracks files that
have been modified (to complement seeing how it tracks files that have
been added).</p>
<p>README files are common in programming; they are the first place that
someone will look to see <strong>why code exists and how to run
it</strong>.</p>
<p>In my README, I’ll edit the line that says:</p>
<pre><code>Please indicate if you are **taking this class for credit** or **auditing**:  </code></pre>
<p>and delete the option that does not apply to me.</p>
<p>When I save this, notice how it shows up in my Git tab. It has a blue
“M”: GitHub is already tracking this file, and tracking it line-by-line,
so it knows that something is different: it’s Modified with an M.</p>
<p>Great. Now let’s sync back to GitHub in 4 steps.</p>
<p><br></p>
</div>
</div>
<div id="sync-from-rstudio-local-to-github-remote"
class="section level2">
<h2>Sync from RStudio (local) to GitHub (remote)</h2>
<p>Syncing to GitHub.com means 4 steps:</p>
<ol style="list-style-type: decimal">
<li>Pull</li>
<li>Stage</li>
<li>Commit</li>
<li>Push</li>
</ol>
<p><br></p>
<p><img src="assets/commit_steps.png" width="100%" /></p>
<p><br> <br></p>
<div id="pull" class="section level3">
<h3>Pull</h3>
<p>We start off by “Pulling” from the remote repository (github.com) to
make sure that our local copy has the most up-to-date information that
is available online. Right now, since we just created the repo and are
the only ones that have permission to work on it, we can be pretty
confident that there isn’t new information available. But we pull anyway
because this is a very safe habit to get into for when you start
collaborating with yourself across computers or others. Best practice is
to pull often: it costs nothing (other than an internet connection).</p>
<p>Pull by clicking the teal Down Arrow. (Notice also how when you
highlight a filename, a preview of the differences displays below).</p>
<p><br></p>
<p><img src="assets/commit_pull.png" width="100%" /></p>
<p><br></p>
</div>
<div id="stage" class="section level3">
<h3>Stage</h3>
<p>Let’s click the boxes next to each file. This is called “staging a
file”: you are indicating that you want GitHub to track this file, and
that you will be syncing it shortly. Notice:</p>
<ul>
<li>.Rproj and .gitignore files: the question marks turn into an A
because these are new files that have been added to your repo
(automatically by RStudio, not by you).</li>
<li>README.md file: the M indicates that this was modified (by you)</li>
</ul>
<p>These are the codes used to describe how the files are changed, (from
the RStudio <a
href="https://rstudio.github.io/cheatsheets/rstudio-ide.pdf">cheatsheet</a>):</p>
<p><br></p>
<p><img src="assets/commit_codes_added_modified.png" width="30%" /></p>
<p><br></p>
</div>
<div id="commit" class="section level3">
<h3>Commit</h3>
<p>Next, we click on the Commit section.</p>
<p><br></p>
<p><img src="assets/commit_circled.png" width="100%" /></p>
<p><br></p>
<p>Committing is different from saving our files (which we still have to
do! RStudio will indicate a file is unsaved with red text and an
asterix). We commit a single file or a group of files when we are ready
to save a snapshot in time of the progress we’ve made. Maybe this is
after a big part of the analysis was done, or when you’re done working
for the day.</p>
<p>Committing our files is a 2-step process.</p>
<p>First, you write a “commit message”, which is a human-readable note
about what has changed that will accompany GitHub’s non-human-readable
alphanumeric code to track our files. I think of commit messages like
breadcrumbs to my Future Self: how can I use this space to be useful for
me if I’m trying to retrace my steps (and perhaps in a panic?).</p>
<p>Second, you press Commit.</p>
<p><br></p>
<p><img src="assets/commit_message_arrow.png" width="100%" /></p>
<p><br></p>
<p>When we have committed successfully, we get a rather
unsuccessful-looking pop-up message. You can read this message as
“Congratulations! You’ve successfully committed 3 files, 2 of which are
new!” It is also providing you with that alphanumeric SHA code that
GitHub is using to track these files.</p>
<p>If our attempt was not successful, we will see an Error. Otherwise,
interpret this message as a joyous one.</p>
<blockquote>
<p>Does your pop-up message say “Aborting commit due to empty commit
message.”? GitHub is really serious about writing human-readable commit
messages. <br></p>
</blockquote>
<p><img src="assets/commit_success.png" width="100%" /></p>
<p><br></p>
<p>When we close this window there is going to be (in my opinion) a very
subtle indication that we are not done with the syncing process.</p>
<p><br></p>
<p><img src="assets/commit_branch_ahead_of_origin_master.png" width="100%" /></p>
<p><br></p>
<p>We have successfully committed our work as a
breadcrumb-message-approved snapshot in time, but it still only exists
locally on our computer. We can commit without an internet connection;
we have not done anything yet to tell GitHub that we want this pushed to
the remote repo at GitHub.com. So as the last step, we push.</p>
<p><br></p>
</div>
<div id="push" class="section level3">
<h3>Push</h3>
<p>The last step in the syncing process is to Push!</p>
<p><br></p>
<p><img src="assets/commit_push.png" width="100%" /></p>
<p><br></p>
<p>Awesome! We’re done here in RStudio for the moment, let’s check out
the remote on github.com.</p>
<p><br></p>
</div>
</div>
<div id="commit-history" class="section level2">
<h2>Commit history</h2>
<p>The files you added should now be on github.com.</p>
<p>Notice how the README.md file we created is automatically displayed
at the bottom. Since it is good practice to have a README file that
identifies what code does (i.e. why it exists), GitHub will display a
Markdown file called README nicely formatted.</p>
<p><br></p>
<p><img src="assets/gh_repo_view.png" width="100%" /></p>
<p><br></p>
<p>Let’s also explore the commit history. The 2 commits we’ve made (the
first was when we originally initiated the repo from github.com) are
there!</p>
<p><br></p>
</div>
<div id="project-oriented-workflows" class="section level2">
<h2>Project-oriented workflows</h2>
<p>Let’s go back to RStudio and see how we set up well-organized
projects and workflows for our data analyses.</p>
<p>This GitHub repository is now also an RStudio Project (capital P
Project). This just means that RStudio has saved this additional file
with extension <code>.Rproj</code> (ours is
<code>ntres-6100-assignments-USERNAME.Rproj</code>) to store specific
settings for this project. It’s a bit of technology to help us get into
the good habit of having a project-oriented workflow.</p>
<p>A <a href="https://rstats.wtf/projects">project-oriented workflow</a>
means that we are going to organize all of the relevant things we need
for our analyses in the same place. That means that this is the place
where we keep all of our data, code, figures, notes, etc.</p>
<p>R Projects are great for reproducibility, because our self-contained
working directory will be the <strong>first</strong> place R looks for
files.</p>
<p>Why does this matter? It’s convenient for us to have everything
associated with our analyses close at-hand. When we work with different
files in R (like data or saved graphs) we always need to tell R where
things “live” by identifying its file path. If files are scattered
across your computer, we would have to keep track of many different
filepaths. So using RStudio Projects and having a project-oriented
workflow and mindset makes our analysis less brittle and more portable —
across people, time, and computers. If you’re not convinced, please
check Jenny Bryan’s arguments <a
href="https://rstats.wtf/projects">here</a> or <a
href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">here</a>
and <a href="https://r4ds.hadley.nz/workflow-scripts">Chapter 6 in
R4DS(2e)</a>.</p>
<p><br></p>
<div id="working-directory" class="section level3">
<h3>Working directory</h3>
<p>Now that we have our Project, let’s revisit this important question:
where are we? Now we are in our Project. Everything we do will by
default be saved here so all our files can be nicely organized.</p>
<p>And this is important because if our friend Maria clones this
repository that you just made and saves it in
<code>Maria/my/projects/way/over/here</code>, she will still be able to
interact with your files as you are here.</p>
<p><img src="assets/RStudio_IDE_projdir.png" width="100%" /></p>
<p><br></p>
</div>
</div>
<div id="project-oriented-workflows-in-action-aka-our-analytical-setup"
class="section level2">
<h2>Project-oriented workflows in action (aka our analytical setup)</h2>
<p>Let’s get a bit organized. First, let’s create a new Quarto file for
notes that you want to take as we work through the different modules of
this course.</p>
<p><br></p>
<div id="create-a-new-rmd-file" class="section level3">
<h3>Create a new Rmd file</h3>
<p>So let’s do this (again):</p>
<p>File &gt; New File &gt; Quarto Document … (or click the green plus in
the top left corner).</p>
<p>Let’s set up this file so it’s ready for us to enter notes into. I’m
going to update the header with a new title and add my name, for now
leave the output as html, and then I’m going to delete the rest of the
document so that we have a clean start.</p>
<blockquote>
<p><strong>Efficiency Tip</strong>: I use Shift - Command - Down Arrow
to highlight text from my cursor to the end of the document</p>
</blockquote>
<pre><code>---
title: &quot;Notes for NTRES 6100 lectures&quot;
author: &quot;Nina Overgaard Therkildsen&quot;
format: html
editor: visual
---

# Course notes
We&#39;re going to learn a lot about GitHub and the tidyverse and it&#39;s going to be fun.</code></pre>
<p><br> <br></p>
<p>Now, let’s save it. I’m going to call my file
<code>course-notes.qmd</code>.</p>
<p>Notice that when we save this file, it pops up in our Git tab. Git
knows that there is something new in our repo.</p>
<p>Let’s also render this file. And look: Git also sees the rendered
.html file.</p>
<p><br></p>
<p>And let’s practice syncing our file to to GitHub: pull, stage,
commit, push</p>
<blockquote>
<p><strong>Troubleshooting:</strong> What if a file doesn’t show up in
the Git tab and you expect that it should? Check to make sure you’ve
saved the file. If the filename is red with an asterix, there have been
changes since it was saved. Remember to save before syncing to
GitHub!</p>
</blockquote>
<p><br></p>
</div>
<div id="create-data-and-figures-folders" class="section level3">
<h3>Create data and figures folders</h3>
<p>Let’s create a few folders to be organized. Let’s have one for our
the raw data, and one for the figures we will output. We can do this in
RStudio, in the bottom right pane Files pane by clicking the New Folder
button:</p>
<ul>
<li>folder called “data”</li>
<li>folder called “figures”</li>
</ul>
<p>We can press the refresh button in the top-right of this pane (next
to the “More” button) to have these show up in alphabetical order.</p>
<p>Now let’s go to our Finder or Windows Explorer: our new folders are
there as well!</p>
<p><br></p>
</div>
<div id="output-formats-for-rmarkdown" class="section level3">
<h3>Output formats for RMarkdown</h3>
<p>After pushing, the rendered html of <code>course-notes.Rmd</code>
file should show up in our GitHub repo after we push it. But how does it
look? GitHub just displays the raw html text file, not the nice-looking
rendered version we’ll see in a browser.</p>
<p>The nicely formatted files you see on GitHub (e.g. typical README
pages) are markdown files (.md in contrast to .Rmd). Fortunately, Quarto
can output to this format, along with several others including pdf and
word documents. We can change the output format in the YAML header at
the top of our Quarto document. For the rendered output to display
nicely on GitHub, we want to select <code>output: gfm</code> (GitHub
Flavored Markdown).</p>
<pre><code>---
title: &quot;Notes for NTRES 6100 lectures&quot;
author: &quot;Nina Overgaard Therkildsen&quot;
format: gfm
editor: visual
---
</code></pre>
<p>You can find much more information about Quarto output formats <a
href="https://r4ds.hadley.nz/quarto-formats.html">here</a>. For most of
our work in this course, we will want to use the <code>gfm</code> output
type because this displays nicely on the GitHub website.</p>
<p><br></p>
</div>
<div id="move-files-to-data-folder" class="section level3">
<h3>Move files to data folder</h3>
<p>Now let’s try adding a file to our local RStudio project folder so we
can push it to GitHub. One of the data files you will need for your next
problem set is located <a
href="https://github.com/nt246/NTRES-6100-data-science/blob/main/datasets/EconomistData.csv">here</a>.
Save this file (using the “Download raw file” icon in the top right of
the file display area) into the ‘data’ subfolder of your R project (the
folder you have created for the project (in the cloning process) on your
local computer).</p>
<p>Now let’s go back to RStudio. We can click on the data folder in the
Files tab and now see this new file.</p>
<p>The data folder also shows up in your Git tab. But the figures folder
does not. That is because GitHub cannot track an empty folder, it can
only track files within a folder.</p>
<p>Let’s sync the data file (we will be able to sync the figures folder
after we’ve generated some plots later in the course). We can stage
multiple files at once by typing Command - A and clicking “Stage” (or
using the space bar). To Sync: pull - stage - commit - push!</p>
<p><br></p>
</div>
<div id="activity" class="section level3">
<h3>Activity</h3>
<p>Edit your README either directly on GitHub or in RStudio and practice
syncing (pull, stage, commit, push). For example,</p>
<ul>
<li>Indicate whether you’re taking the course for credit</li>
<li>Add a fun fact about yourself</li>
<li>Add another line of text</li>
<li>Add a picture of yourself (see instructions from last class <a
href="https://nt246.github.io/NTRES-6100-data-science/lesson2-rmarkdown-github.html#Activity">here</a>)</li>
</ul>
<p>Explore your Commit History</p>
<p><br></p>
</div>
</div>
<div id="committing---how-often-tracking-changes-in-your-files"
class="section level2">
<h2>Committing - how often? Tracking changes in your files</h2>
<p>Whenever you make changes to the files in GitHub, you will walk
through the Pull -&gt; Stage -&gt; Commit -&gt; Push steps.</p>
<p>I tend to do this every time I finish a task (basically when I start
getting nervous that I will lose my work). Once something is committed,
it is very difficult to lose it.</p>
<p><br></p>
</div>
<div id="adding-version-control-to-a-pre-existing-r-project"
class="section level2">
<h2>Adding version control to a pre-existing R-project</h2>
<p>You may have been working on an RStudio project earlier and now you
want to add version control through GitHub. You can easily set that up
with <a
href="https://happygitwithr.com/existing-github-first.html">these
instructions</a> by from Happy Git with R by Jenny Bryan. In fact, we
will do this for our <a
href="https://github.com/nt246/NTRES-6100-data-science/blob/main/assignments/Assignment_2.md">Assignment
2</a>!</p>
<p><br> <br></p>
<div id="end-github-session" class="section level3">
<h3>END <strong>GitHub</strong> session!</h3>
<div class="tocify-extend-page" data-unique="tocify-extend-page"
style="height: 0;">

</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
